(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(7026)}])},7026:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return A}});var n=s(5893),a=s(9008),i=s.n(a),o=s(7294),r=s(4848),l=s.n(r),c=s(1749),p=s(5036);let g=["https://raw.githubusercontent.com/Azure-Samples/cognitive-services-sample-data-files/master/ComputerVision/Images/celebrities.jpg","https://moderatorsampleimages.blob.core.windows.net/samples/sample16.png","https://moderatorsampleimages.blob.core.windows.net/samples/sample16.png","https://raw.githubusercontent.com/Azure-Samples/cognitive-services-node-sdk-samples/master/Data/image.jpg","https://docs.microsoft.com/en-us/azure/cognitive-services/computer-vision/images/red-shirt-logo.jpg","https://raw.githubusercontent.com/Azure-Samples/cognitive-services-sample-data-files/master/ComputerVision/Images/faces.jpg","https://raw.githubusercontent.com/Azure-Samples/cognitive-services-sample-data-files/master/ComputerVision/Images/celebrities.jpg","https://raw.githubusercontent.com/Azure-Samples/cognitive-services-sample-data-files/master/ComputerVision/Images/celebrities.jpg","https://raw.githubusercontent.com/Azure-Samples/cognitive-services-sample-data-files/master/ComputerVision/Images/landmark.jpg","https://raw.githubusercontent.com/Azure-Samples/cognitive-services-python-sdk-samples/master/samples/vision/images/make_things_happen.jpg","https://moderatorsampleimages.blob.core.windows.net/samples/sample2.jpg","https://raw.githubusercontent.com/Azure-Samples/cognitive-services-sample-data-files/master/ComputerVision/Images/MultiLingual.png"],u=()=>g[Math.floor(Math.random()*Math.floor(g.length))],d="test",m="test";console.log("key = ".concat(d)),console.log("endpoint = ".concat(m));let h=["ImageType","Faces","Adult","Categories","Color","Tags","Description","Objects","Brands"],x=async e=>e.filter(e=>"text"===e.name.toLowerCase()),j=async e=>e.filter(e=>"handwriting"===e.name.toLowerCase()),b=e=>new Promise(t=>{setTimeout(t,e)}),y=async e=>{let t=new c.FV(new p.C({inHeader:{"Ocp-Apim-Subscription-Key":d}}),m),s=e||u(),n=await t.analyzeImage(s,{visualFeatures:h});return(x(n.tags)||j(n.tags))&&(n.text=await f(t,s)),{URL:s,...n}},f=async(e,t)=>{let s=await e.read(t),n=s.operationLocation.split("/").slice(-1)[0],a=Date.now();for(console.log("".concat(a," -").concat(null==s?void 0:s.status," "));"succeeded"!==s.status;)await b(500),console.log("".concat(Date.now()-a," -").concat(null==s?void 0:s.status," ")),s=await e.getReadResult(n);return s.analyzeResult},w=async e=>fetch("".concat("http://localhost:3030","/suggestions"),{headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":" http://localhost:3000","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Headers":"Content-Type, Authorization",image:e||u}}).then(e=>e.json()).then(e=>e).catch(e=>{console.log(e)}),v=e=>{let{src:t}=e,[s,a]=(0,o.useState)(!1),[i,r]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!1),p=()=>{a(!0),w(t).then(e=>{fetch("/api/openAPI",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tags:e})}).then(e=>e.json()).then(e=>c(e.result)).catch(e=>{a(!1)}),r(e&&e.join(", "))})};return(0,n.jsx)("div",{style:{margin:"10px 0"},children:s?(0,n.jsxs)("div",{style:{borderRadius:"4px",border:"1px solid #424242",padding:"10px"},children:[(0,n.jsx)("h2",{style:{color:"#4285F4",margin:0,textAlign:"center"},children:"Google Cloud Vision"}),(0,n.jsxs)("p",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)("b",{style:{marginRight:"8px"},children:"Suggested: "}),i||(0,n.jsx)("span",{className:"loading-bar small"})]}),(0,n.jsxs)("p",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)("b",{style:{marginRight:"8px"},children:"GPT Suggestion: "}),l||(0,n.jsx)("span",{className:"loading-bar small"})]})]}):(0,n.jsx)("input",{type:"button",value:"Get Suggestion (Cloud Vision)",onClick:p,style:{padding:"12px 0",color:"black",backgroundColor:"#4285F4",color:"#fff",border:"none",borderRadius:"4px",textAlign:"center",cursor:"pointer",width:"100%"}})})},S=e=>{let{src:t}=e,[s,a]=(0,o.useState)(""),[i,r]=(0,o.useState)(""),[l,c]=(0,o.useState)(!1),p=()=>{c(!0),y(t).then(e=>{let t=e.tags.map(e=>e.name);t.push(e.description.captions[0].text),fetch("/api/openAPI",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tags:t})}).then(e=>e.json()).then(e=>r(e.result)),a(e.description.captions[0].text)})};return(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{src:t,alt:i||"",style:{width:"100%"}}),l?(0,n.jsxs)("div",{style:{borderRadius:"4px",border:"1px solid #424242",padding:"10px"},children:[(0,n.jsx)("h2",{style:{color:"rgb(118, 248, 176)",margin:0,textAlign:"center"},children:"Azure"}),(0,n.jsxs)("p",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)("b",{style:{marginRight:"8px"},children:"Suggested: "}),s||(0,n.jsx)("span",{className:"loading-bar small"})]}),(0,n.jsxs)("p",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)("b",{style:{marginRight:"8px"},children:"GPT Suggestion: "}),i||(0,n.jsx)("span",{className:"loading-bar small"})]})]}):(0,n.jsx)("input",{type:"button",value:"Get Suggestion (Azure)",onClick:p,style:{padding:"12px 0",color:"black",backgroundColor:"rgb(118, 248, 176)",border:"none",borderRadius:"4px",textAlign:"center",cursor:"pointer",width:"100%"}}),(0,n.jsx)(v,{src:t})]})};var C=s(2337);function A(){let[e,t]=(0,o.useState)(""),[s,a]=(0,o.useState)(),[r,c]=(0,o.useState)(!1);async function p(t){t.preventDefault(),c(!0);let s=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})}),n=await s.json();a(n.result),c(!1)}return(0,n.jsxs)("div",{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"OpenAI Quickstart"}),(0,n.jsx)("link",{rel:"icon",href:"/valtechLogo-black.png"})]}),(0,n.jsxs)("main",{className:l().main,children:[(0,n.jsxs)("form",{onSubmit:p,children:[(0,n.jsx)("img",{src:"/valtechLogo-black.png",className:l().icon}),(0,n.jsx)("input",{type:"text",name:"image url",placeholder:"Enter an url",value:e,onChange:e=>t(e.target.value)}),(0,n.jsx)("input",{type:"submit",value:"Analize URL"})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"80%",marginTop:"20px"},children:[(0,n.jsx)("div",{style:{margin:"0 auto"},children:r&&(0,n.jsx)("div",{className:"loading-bar"})}),s&&(0,n.jsx)(C.G,{columnsCountBreakPoints:{350:1,750:2,900:3},children:(0,n.jsx)(C.Z,{gutter:"1.5rem",children:Array.isArray(s)&&s.map((e,t)=>(0,n.jsx)(S,{src:e.image},"altify-image-".concat(t)))})})]})]})]})}},4848:function(e){e.exports={main:"index_main__3wZvj",icon:"index_icon__CgRrC",result:"index_result__66e57"}}},function(e){e.O(0,[528,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);
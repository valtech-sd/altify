(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8093)}])},8093:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ee}});var r=t(5893),a=t(9008),i=t.n(a),s=t(7294),l=t(2337),o=t(4848),u=t.n(o);let c="https://altify-api.azurewebsites.net";var d=t(7297),p=t(9521);function g(){let e=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n"]);return g=function(){return e},e}function h(){let e=(0,d.Z)(["\n  margin-right: 8px;\n"]);return h=function(){return e},e}let f=p.ZP.p(g()),x=p.ZP.b(h());function m(){let e=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return m=function(){return e},e}let j=p.ZP.div(m()),y=e=>{let{altText:n,index:t,src:a}=e;return(0,r.jsxs)(j,{children:[(0,r.jsxs)(f,{children:[(0,r.jsxs)(x,{children:["#",t,": Current Alt Tag: "]}),(0,r.jsx)("p",{children:n})]}),(0,r.jsx)("a",{style:{wordBreak:"break-all"},href:a,target:"_blank",rel:"noreferrer",children:a})]})};var w=t(5697),b=t(1749),v=t(5036);let C=["ImageType","Faces","Adult","Categories","Color","Tags","Description","Objects","Brands"],S=async e=>e.filter(e=>"text"===e.name.toLowerCase()),T=async e=>e.filter(e=>"handwriting"===e.name.toLowerCase()),P=e=>new Promise(n=>{setTimeout(n,e)});async function k(e){let n=new b.FV(new v.C({inHeader:{"Ocp-Apim-Subscription-Key":"b8de935b3a0b4bafaea5fe58efc98d22"}}),"https://valtech-sd-altify-cv-api.cognitiveservices.azure.com/"),t=await n.analyzeImage(e,{visualFeatures:C});return(S(t.tags)||T(t.tags))&&(t.text=await _(n,e)),{URL:e,...t}}let _=async(e,n)=>{let t=await e.read(n),r=t.operationLocation.split("/").slice(-1)[0],a=Date.now();for(console.log("".concat(a," -").concat(null==t?void 0:t.status," "));"succeeded"!==t.status;)await P(500),console.log("".concat(Date.now()-a," -").concat(null==t?void 0:t.status," ")),t=await e.getReadResult(r);return t.analyzeResult};async function Z(e,n,t){let r=Number(t),a=await fetch("".concat(c,"/openAPI"),{method:"POST",headers:{"Content-Type":"application/json",authentication:n},body:JSON.stringify({tags:e,creativity:r})}),i=await a.json();return i.result}function A(){let e=(0,d.Z)(["\n  padding: 12px 0;\n  color: black;\n  background-color: rgb(118, 248, 176);\n  border: none;\n  border-radius: 4px;\n  text-align: center;\n  cursor: pointer;\n  width: 100%;\n"]);return A=function(){return e},e}let N=p.ZP.input(A()),E=e=>{let{onClick:n,header:t}=e;return(0,r.jsx)(N,{type:"button",value:"Get Suggestion (".concat(t,")"),onClick:n})};function R(){let e=(0,d.Z)(["\n  border-radius: 4px;\n  border: 1px solid #424242;\n  padding: 10px;\n"]);return R=function(){return e},e}function O(){let e=(0,d.Z)(["\n  color: rgb(118, 248, 176);\n  margin: 0,\n  text-align: center;\n"]);return O=function(){return e},e}let z=p.ZP.div(R()),L=p.ZP.h2(O()),G={onClick:w.func.isRequired,header:w.string.isRequired,fetched:w.bool.isRequired,suggestion:w.string,chatGTP:w.string},D=e=>{let{onClick:n,header:t,fetched:a,suggestion:i,chatGTP:s,altText:l}=e;return(0,r.jsx)("div",{style:{marginTop:5},children:a?(0,r.jsxs)(z,{children:[(0,r.jsx)(L,{children:t}),(0,r.jsxs)(f,{children:[(0,r.jsx)(x,{children:"Suggested: "}),i||(0,r.jsx)("span",{className:"loading-bar small"})]}),(0,r.jsxs)(f,{children:[(0,r.jsx)(x,{children:"GPT Suggestion: "}),s||(0,r.jsx)("span",{className:"loading-bar small"})]})]}):(0,r.jsx)(E,{onClick:n,header:t})})};D.propTypes=G,D.defaultProps={suggestion:"",chatGTP:""};let q={src:(0,w.shape)({image:w.string.isRequired,current:w.string})},I=e=>{let{src:n,password:t,creativity:a}=e,[i,l]=(0,s.useState)(!1),[o,u]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[p,g]=(0,s.useState)(null),[h,f]=(0,s.useState)(null),[x,m]=(0,s.useState)(null),[j,y]=(0,s.useState)(null);async function w(e){if(0==a&&p){y(p);return}if(.5==a&&h){y(h);return}if(1==a&&x){y(x);return}y(null);let n=await Z(e,t,a);0==a&&g(n),.5==a&&f(n),1==a&&m(n),y(n)}return(0,s.useEffect)(()=>{l(!1),d(null),y(null)},[n]),(0,s.useEffect)(()=>{c&&w(o)},[o,a,w,c]),(0,r.jsx)(D,{src:n,onClick:function(){l(!0),k(n.image).then(e=>{try{let n=e.tags.map(e=>e.name);n.push(e.description.captions[0].text),d(e.description.captions[0].text),u(n),w(n)}catch(t){console.log(t),l(!1)}})},alt:"",header:"Azure",fetched:i,suggestion:c,chatGTP:j})};async function B(e,n){try{let t=await fetch("".concat(c,"/suggestions"),{headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Headers":"Content-Type, Authorization",image:e,authentication:n}}),r=await t.json();return r}catch(a){console.log(a)}}I.propTypes=q,I.defaultProps={src:{current:null}};let H={src:(0,w.shape)({image:w.string.isRequired,current:w.string}),password:w.string},F=e=>{let{src:n,password:t,creativity:a}=e,[i,l]=(0,s.useState)(!1),[o,u]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[p,g]=(0,s.useState)(null),[h,f]=(0,s.useState)(null),[x,m]=(0,s.useState)(null),[j,y]=(0,s.useState)(null);async function w(e){if(0==a&&p){y(p);return}if(.5==a&&h){y(h);return}if(1==a&&x){y(x);return}y(null);let n=await Z(e,t,a);0==a&&g(n),.5==a&&f(n),1==a&&m(n),y(n)}return(0,s.useEffect)(()=>{l(!1),d(null),y(null)},[n]),(0,s.useEffect)(()=>{c&&w(o)},[o,a,w,c]),(0,r.jsx)(D,{src:n,onClick:function(){l(!0),B(n.image,t).then(e=>{try{d(e.join(", ")),u(e),w(e)}catch(n){console.log(n),l(!1)}})},alt:"",header:"Cloud Vision",fetched:i,suggestion:c,chatGTP:j})};F.propTypes=H,F.defaultProps={src:{current:null},password:null};let J={name:w.string,onChange:w.func,placeholder:w.string,type:w.string,value:w.string,disabled:w.bool},M=e=>{let{name:n,onChange:t,placeholder:a,type:i,value:s,disabled:l}=e;return(0,r.jsx)("input",{type:i,disabled:l,name:n,placeholder:a,value:s,onChange:t})};function U(){let e=(0,d.Z)(['\n    position: relative;\n    background-color: rgb(118, 248, 176);\n    width: 50%;\n    border-radius: 2px;\n    margin: 10px auto 20px auto;\n    &:after {\n        content: " ";\n        position: absolute;\n        top: 50%;\n        margin-top: -2px;\n        right: 8px;\n        width: 0;\n        height: 0;\n        border-left: 5px solid transparent;\n        border-right: 5px solid transparent;\n        border-top: 5px solid #aaa;\n    }\n']);return U=function(){return e},e}function V(){let e=(0,d.Z)(["\n    width: 50%;\n    margin: auto;\n    text-align: center;\n"]);return V=function(){return e},e}function W(){let e=(0,d.Z)(["\n    font-size: 1rem;\n    font-weight: 200;\n    width: 100%;\n    padding: 8px 24px 8px 10px;\n    border: none;\n    background-color: transparent;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    &:active,\n    &:focus {\n        outline: none;\n        box-shadow: none;\n    }\n"]);return W=function(){return e},e}M.propTypes=J,M.defaultProps={name:"",onChange(){},placeholder:"",type:"text",value:"",disabled:!1};let X=p.ZP.div(U()),K=p.ZP.div(V()),Q=p.ZP.select(W()),Y={results:w.object},$=e=>{let{image:n,password:t,index:a}=e,[i,l]=(0,s.useState)(0);return(0,r.jsx)("div",{style:{marginTop:5},children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,r.jsx)("img",{src:n.image,alt:"",style:{width:"100%"}}),(0,r.jsx)(y,{altText:n.current,index:a+1}),(0,r.jsx)(K,{children:"Creativity:"}),(0,r.jsx)(X,{children:(0,r.jsxs)(Q,{name:"creativity",id:"creativity",onChange:e=>l(e.target.value),children:[(0,r.jsx)("option",{value:"0",children:"Light"}),(0,r.jsx)("option",{value:"0.5",children:"Medium"}),(0,r.jsx)("option",{value:"1",children:"High"})]})}),(0,r.jsx)(I,{src:n,password:t,creativity:i}),(0,r.jsx)(F,{src:n,password:t,creativity:i})]})})};function ee(){let[e,n]=(0,s.useState)(""),[t,a]=(0,s.useState)(""),[o,d]=(0,s.useState)(null),[p,g]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1);async function x(n){n.preventDefault(),length>0&&d(null),g(!0);let r=await fetch("".concat(c,"/generate"),{method:"POST",headers:{"Content-Type":"application/json",authentication:t},body:JSON.stringify({url:e})});if(401===r.status){g(!1),alert("Wrong password");return}f(!0);let a=await r.json();if(0===a.result.length){g(!1),alert("No images found");return}d(a.result.filter(e=>{var n;return!(null===(n=e.src)||void 0===n?void 0:n.endsWith(".svg"))})),g(!1)}return(0,r.jsxs)("div",{children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:"OpenAI Quickstart"}),(0,r.jsx)("link",{rel:"icon",href:"/valtechLogo-black.png"})]}),(0,r.jsxs)("main",{className:u().main,children:[(0,r.jsxs)("form",{onSubmit:x,children:[(0,r.jsx)("img",{src:"./valtechLogo-black.png",className:u().icon}),(0,r.jsx)(M,{type:"text",name:"image url",placeholder:"Enter a url",value:e,onChange:function(e){n(e.target.value)}}),(0,r.jsx)(M,{disabled:h,type:"password",name:"password",placeholder:"Enter the password",value:t,onChange:function(e){a(e.target.value)}}),(0,r.jsx)("input",{disabled:!t||!e,type:"submit",value:"Analyze URL"}),(0,r.jsxs)("p",{children:["Images found: ",null==o?void 0:o.length]})]}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"80%",marginTop:"20px"},children:[(0,r.jsx)("div",{style:{margin:"0 auto"},children:p&&(0,r.jsx)("div",{className:"loading-bar"})}),o&&(0,r.jsx)(l.G,{columnsCountBreakPoints:{350:1,750:2,900:3},children:(0,r.jsx)(l.Z,{gutter:"1.5rem",children:Array.isArray(o)&&o.map((e,n)=>(0,r.jsx)($,{index:n,image:e,password:t},"altify-image-".concat(n)))})})]})]})]})}$.propTypes=Y},4848:function(e){e.exports={main:"index_main__3wZvj",icon:"index_icon__CgRrC",result:"index_result__66e57"}}},function(e){e.O(0,[828,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);